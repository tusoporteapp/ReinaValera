import{j as e,c as ee,e as re,b as te}from"./index-B7a637UP.js";import{r as p,u as ae}from"./react-vendor-KOjhOASN.js";import{n as M}from"./notesManager-BJrR_Wyu.js";import{X as A,_ as se,$ as le,a0 as ne,B as V,a1 as oe,u as ie,O as $,C as S,c as de,I as ce,a as P,d as xe,a2 as me,a3 as ge,z as ue}from"./ui-vendor-sYXpwS0N.js";import{i as be}from"./introductionManager-DzReGFhk.js";import{L as pe}from"./LikeButton-kiClN8uh.js";import"./firebase-vendor-CMaS3_GD.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-messaging.js";const he=({isOpen:t,onClose:r,bookId:m,bookName:g,chapterIndex:h,verseIndex:d,verseText:i,existingNote:l,onSaved:u})=>{const[y,w]=p.useState((l==null?void 0:l.noteText)||""),[N,C]=p.useState((l==null?void 0:l.tags.join(", "))||""),[f,v]=p.useState((l==null?void 0:l.color)||"yellow");if(!t)return null;const b=()=>{if(!y.trim()){alert("Por favor escribe una nota");return}const c=N.split(",").map(z=>z.trim()).filter(Boolean);l?M.updateNote(l.id,{noteText:y,tags:c,color:f}):M.createNote({bookId:m,bookName:g,chapterIndex:h,verseIndex:d,verseText:i,noteText:y,tags:c,color:f}),u(),r()},j=["yellow","blue","green","purple","red","orange"],E={yellow:"bg-yellow-400",blue:"bg-blue-400",green:"bg-green-400",purple:"bg-purple-400",red:"bg-red-400",orange:"bg-orange-400"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden animate-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l?"Editar Nota":"Nueva Nota"}),e.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(A,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[e.jsxs("div",{className:"text-sm font-bold text-primary mb-2",children:[g," ",h+1,":",d+1]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:['"',i,'"']})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tu Nota"}),e.jsx("textarea",{value:y,onChange:c=>w(c.target.value),placeholder:"Escribe tus reflexiones, pensamientos o aprendizajes...",className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none focus:ring-2 focus:ring-primary focus:border-transparent",rows:6,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(se,{size:16}),"Etiquetas (separadas por comas)"]}),e.jsx("input",{type:"text",value:N,onChange:c=>C(c.target.value),placeholder:"ej: oraciÃ³n, reflexiÃ³n, estudio",className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Las etiquetas te ayudan a organizar y filtrar tus notas"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(le,{size:16}),"Color de Resaltado"]}),e.jsx("div",{className:"flex items-center gap-3",children:j.map(c=>e.jsx("button",{onClick:()=>v(c),className:`w-10 h-10 rounded-full ${E[c]} transition-all ${f===c?"ring-4 ring-offset-2 ring-gray-400 dark:ring-gray-600 scale-110":"hover:scale-105"}`,title:c},c))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-6 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:b,className:"flex-1 py-3 rounded-xl bg-primary text-white font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:18}),l?"Actualizar":"Guardar"]})]})]})})},ye=({introduction:t})=>{const{metadatos:r,panorama_general:m,contenido_profundo:g,estructura_tematica:h}=t;return e.jsxs("div",{className:"max-w-3xl mx-auto py-4 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 dark:from-primary/20 dark:to-primary/10 rounded-2xl p-6 border border-primary/20",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-xl text-primary shrink-0",children:e.jsx(V,{size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["IntroducciÃ³n al libro de ",r.libro]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.autor," â€¢ ",r.fecha_aprox]})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium",children:[e.jsx(oe,{size:16}),r.tipo_literario]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:"ðŸ“– Panorama General"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-line text-base",children:m.introduccion_magistral})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-5 rounded-xl border border-green-100 dark:border-green-900/30",children:[e.jsx("h3",{className:"font-bold text-green-800 dark:text-green-400 text-sm mb-2 uppercase tracking-wide",children:"Tema Central"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:m.tema_central})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 p-5 rounded-xl border border-purple-100 dark:border-purple-900/30",children:[e.jsx("h3",{className:"font-bold text-purple-800 dark:text-purple-400 text-sm mb-2 uppercase tracking-wide",children:"VersÃ­culo Clave"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm italic",children:['"',m.versiculo_clave,'"']})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:"ðŸ“ Resumen del Contenido"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-base",children:g.resumen_ejecutivo})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:"ðŸ”‘ Palabras Clave"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.palabras_clave.map((d,i)=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full text-sm font-medium",children:d},i))})]}),e.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/10 p-6 rounded-xl border border-amber-100 dark:border-amber-900/30 space-y-2",children:[e.jsx("h2",{className:"text-xl font-bold text-amber-800 dark:text-amber-400 flex items-center gap-2",children:"âœï¸ Cristo en este Libro"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-base",children:g.cristologia})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:"ðŸ—‚ï¸ Estructura del Libro"}),e.jsx("div",{className:"space-y-3",children:h.map((d,i)=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary/50 transition-colors bg-white dark:bg-gray-900/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2 gap-3",children:[e.jsx("h3",{className:"font-bold text-primary flex-1",children:d.titulo_seccion}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded shrink-0",children:d.rango_capitulos})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.descripcion})]},i))})]}),e.jsxs("section",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-xl border border-blue-100 dark:border-blue-900/30",children:[e.jsx("h3",{className:"font-bold text-blue-800 dark:text-blue-400 text-sm mb-2 uppercase tracking-wide",children:"ðŸ‘¥ Destinatarios Originales"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:m.destinatarios_originales})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"ðŸ’¡ Esta introducciÃ³n te ayudarÃ¡ a comprender mejor el contexto y mensaje del libro"})})]})},fe=({isOpen:t,onClose:r,onSchedule:m,title:g="Recordar leer esto"})=>{if(!t)return null;const[h,d]=p.useState(""),i=u=>{m(u*60*1e3),r()},l=u=>{u.preventDefault();const y=parseInt(h);!isNaN(y)&&y>0&&i(y)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-sm rounded-2xl shadow-xl overflow-hidden animate-in zoom-in-95 duration-200",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ie,{size:18,className:"text-primary"}),g]}),e.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-full",children:e.jsx(A,{size:20})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Â¿CuÃ¡ndo quieres que te lo recordemos?"}),e.jsxs("button",{onClick:()=>i(15),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center",children:e.jsx($,{size:16})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"En 15 minutos"})]}),e.jsx(S,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),e.jsxs("button",{onClick:()=>i(60),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center",children:e.jsx($,{size:16})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"En 1 hora"})]}),e.jsx(S,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),e.jsxs("button",{onClick:()=>i(1440),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center",children:e.jsx($,{size:16})}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"MaÃ±ana (24h)"})]}),e.jsx(S,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-800 mt-2",children:e.jsxs("form",{onSubmit:l,className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",min:"1",placeholder:"Minutos...",value:h,onChange:u=>d(u.target.value),className:"flex-1 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),e.jsx("button",{type:"submit",disabled:!h,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium disabled:opacity-50 hover:bg-primary/90 transition-colors",children:"Programar"})]})})]})]})})},je=({title:t,url:r,className:m=""})=>{const{scheduleNotification:g,requestPermission:h,permission:d}=ee(),[i,l]=p.useState(!1),u=async()=>{d!=="granted"?await h()==="granted"&&l(!0):l(!0)},y=w=>{const N=r||window.location.href;g("Recordatorio de Lectura ðŸ“–",{body:`Es hora de leer: ${t}`,icon:"/pwa-192x192.png",tag:"read-later-"+Date.now(),data:{url:N}},w,N)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:u,className:`
          group flex items-center gap-1.5 transition-all active:scale-95
          text-gray-400 dark:text-gray-500 hover:text-blue-500 dark:hover:text-blue-400
          ${m}
        `,title:"Leer mÃ¡s tarde",children:e.jsx($,{size:20,className:"transition-transform group-hover:rotate-12"})}),e.jsx(fe,{isOpen:i,onClose:()=>l(!1),onSchedule:y,title:t})]})},_e=({book:t,chapterIndex:r,settings:m,onNextChapter:g,onPrevChapter:h,hasPrev:d,hasNext:i,bookmarks:l,onToggleBookmark:u,onShareVerse:y,onNotify:w})=>{const{playChapter:N}=re(),C=p.useRef(null),f=r===-1,v=f?[]:t.chapters[r],[b,j]=p.useState([]),[E,c]=p.useState(!1),[z,O]=p.useState(null),q=ae(),[I,B]=p.useState(null),[F,G]=p.useState(null),[U,_]=p.useState(new Map);p.useEffect(()=>{if(C.current&&(C.current.scrollTop=0),j([]),f){const n=be.getIntroduction(t.id);G(n),B(null),_(new Map);return}const s=M.getNotesForChapter(t.id,r),a=new Map;s.forEach(n=>{a.set(n.verseIndex,!0)}),_(a);const x=te.getDevotional(t.id,r);B(x)},[t.id,r,f]);const T=s=>l.some(a=>a.bookId===t.id&&a.chapterIndex===r&&a.verseIndex===s),D=()=>b.length===0?!1:b.every(s=>T(s)),W=s=>{switch(s){case 1:return"text-sm";case 2:return"text-base";case 3:return"text-lg";case 4:return"text-xl";case 5:return"text-2xl";default:return"text-lg"}},X=s=>{navigator.vibrate&&navigator.vibrate(50),j(a=>a.includes(s)?a.filter(n=>n!==s):[...a,s].sort((x,n)=>x-n))},H=()=>{if(b.length===0)return"";const s=[...b].sort((o,k)=>o-k),a=s.map(o=>o+1);let x=!0;for(let o=0;o<s.length-1;o++)if(s[o+1]!==s[o]+1){x=!1;break}const n=x&&s.length>1?`${a[0]}-${a[a.length-1]}`:a.join(", ");return`${t.name} ${r+1}:${n}`},R=s=>{if(b.length===0)return;const a=[...b].sort((o,k)=>o-k),x=a.map(o=>v[o]).join(`
`),n=H();if(s==="bookmark"){const o=D();a.forEach(k=>{const Y=T(k);if(o||!Y){const Z={id:`${t.id}-${r}-${k}`,bookId:t.id,bookName:t.name,chapterIndex:r,verseIndex:k,text:v[k],timestamp:Date.now()};u(Z)}}),j([])}else s==="share"?(y({text:x,ref:n}),j([])):s==="copy"&&(navigator.clipboard.writeText(`${x}
${n}`),j([]))},J=()=>{b.length!==0&&(O(b[0]),c(!0))},K=()=>{const s=M.getNotesForChapter(t.id,r),a=new Map;s.forEach(x=>{a.set(x.verseIndex,!0)}),_(a),j([])},Q=m.fontFamily==="serif"?"font-serif":"font-sans",L=b.length>0;return e.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-paper-light dark:bg-paper-dark",children:[e.jsx("div",{className:`
        flex-none px-3 h-14 flex items-center justify-between shadow-sm z-20 transition-colors duration-300
        ${L?"bg-primary text-white":"bg-paper-light dark:bg-paper-dark text-gray-900 dark:text-gray-100 border-b border-gray-100 dark:border-gray-800"}
      `,children:L?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>j([]),className:"p-2 rounded-full hover:bg-white/20 active:bg-white/30 transition-colors","aria-label":"Cancelar selecciÃ³n",children:e.jsx(A,{size:20})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-base",children:b.length}),e.jsx("span",{className:"text-[9px] opacity-80 uppercase tracking-wider font-medium",children:"Seleccionados"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>R("copy"),className:"p-2.5 rounded-full hover:bg-white/20 active:bg-white/30 transition-colors",title:"Copiar","aria-label":"Copiar",children:e.jsx(de,{size:18})}),e.jsx("button",{onClick:()=>R("bookmark"),className:"p-2.5 rounded-full hover:bg-white/20 active:bg-white/30 transition-colors",title:"Favorito","aria-label":"Guardar",children:e.jsx(ce,{size:18,fill:D()?"currentColor":"none"})}),e.jsx("button",{onClick:J,className:"p-2.5 rounded-full hover:bg-white/20 active:bg-white/30 transition-colors",title:"Agregar Nota","aria-label":"Agregar nota",children:e.jsx(P,{size:18})}),e.jsx("button",{onClick:()=>R("share"),className:"p-2.5 rounded-full hover:bg-white/20 active:bg-white/30 transition-colors",title:"Compartir","aria-label":"Compartir",children:e.jsx(xe,{size:18})})]})]}):e.jsxs("div",{className:"w-full flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[!f&&e.jsx("button",{onClick:()=>N(v,t.name,r+1),className:"p-2.5 text-blue-600 dark:text-blue-400 active:scale-95 transition-all rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Escuchar capÃ­tulo","aria-label":"Escuchar capÃ­tulo",children:e.jsx(me,{size:20})}),I&&e.jsx("button",{onClick:()=>q(`/devocional/${t.id}/${r+1}`),className:"p-2.5 text-amber-600 dark:text-amber-400 active:scale-95 transition-all rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/20",title:"Ver devocional","aria-label":"Ver devocional",children:e.jsx(V,{size:20})})]}),e.jsxs("div",{className:"flex-1 text-center px-2",children:[e.jsx("h1",{className:"text-base font-bold leading-tight text-gray-900 dark:text-gray-100 truncate",children:t.name}),e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-sans font-semibold uppercase tracking-widest",children:f?"IntroducciÃ³n":`Cap. ${r+1}`})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pe,{itemId:`${t.id}-${r}`,itemType:"chapter",itemTitle:`${t.name} ${r+1}`,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"}),e.jsx(je,{title:`${t.name} ${r+1}`,className:"p-2.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20"}),i&&e.jsx("button",{onClick:g,className:"p-2.5 text-gray-600 dark:text-gray-300 active:scale-95 transition-all rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Siguiente capÃ­tulo","aria-label":"Siguiente capÃ­tulo",children:e.jsx(S,{size:20})})]})]})}),e.jsx("div",{ref:C,className:`flex-1 overflow-y-auto no-scrollbar scroll-smooth p-4 pb-32 ${Q}`,children:f&&F?e.jsx(ye,{introduction:F}):v?e.jsxs("div",{className:"max-w-3xl mx-auto py-2",children:[e.jsx("div",{className:`space-y-4 ${W(m.fontSize)} leading-relaxed text-ink-light dark:text-ink-dark`,children:v.map((s,a)=>{const x=T(a),n=b.includes(a),o=U.has(a);return e.jsxs("div",{onClick:()=>X(a),className:`
                            relative pl-4 pr-2 py-3 rounded-xl transition-all cursor-pointer select-none border-l-4
                            active:scale-[0.99] touch-manipulation
                            ${n?"bg-primary/10 dark:bg-primary/20 border-primary":x?"bg-yellow-50 dark:bg-yellow-900/10 border-yellow-400":o?"bg-blue-50 dark:bg-blue-900/10 border-blue-400":"border-transparent active:bg-gray-100 dark:active:bg-gray-800"}
                        `,children:[e.jsx("span",{className:`
                            absolute left-[-0.2rem] top-3.5 text-[0.65em] font-sans font-bold select-none
                            ${n?"text-primary":x?"text-yellow-600":o?"text-blue-600":"text-gray-400/70"}
                        `,children:a+1}),e.jsx("p",{className:n?"text-gray-900 dark:text-white font-medium":"",children:s}),o&&!n&&e.jsx("div",{className:"absolute top-3 right-3 text-blue-600 dark:text-blue-400",children:e.jsx(P,{size:16,fill:"currentColor"})}),n&&e.jsx("div",{className:"absolute top-3 right-3 text-primary animate-in zoom-in duration-200",children:e.jsx(ge,{size:18,strokeWidth:3})})]},a)})}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-8 border-t border-gray-200 dark:border-gray-800 font-sans pb-10",children:[e.jsxs("button",{onClick:h,disabled:!d,className:`flex items-center space-x-2 px-5 py-4 rounded-xl transition-colors ${d?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 active:bg-gray-200":"opacity-0 pointer-events-none"}`,children:[e.jsx(ue,{size:20}),e.jsx("span",{className:"font-bold text-sm",children:"Anterior"})]}),e.jsxs("button",{onClick:g,disabled:!i,className:`flex items-center space-x-2 px-5 py-4 rounded-xl transition-colors ${i?"bg-primary text-white shadow-lg shadow-blue-500/30 active:scale-95":"opacity-0 pointer-events-none"}`,children:[e.jsx("span",{className:"font-bold text-sm",children:"Siguiente"}),e.jsx(S,{size:20})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-500",children:"CapÃ­tulo no disponible"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"No se pudo cargar el contenido de este capÃ­tulo."}),e.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/10 text-red-500 rounded-lg text-xs font-mono text-left",children:["Debug Info:",e.jsx("br",{}),"Book: ",t.name," (",t.id,")",e.jsx("br",{}),"Chapter Index: ",r,e.jsx("br",{}),"Chapters Count: ",t.chapters.length]})]})}),!f&&e.jsx(he,{isOpen:E,onClose:()=>c(!1),bookId:t.id,bookName:t.name,chapterIndex:r,verseIndex:z||0,verseText:z!==null?v[z]:"",onSaved:K})]})};export{_e as default};
