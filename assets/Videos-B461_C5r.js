import{B as g,j as t,V as x}from"./index-zbbm-qGn.js";import{r as p}from"./react-vendor-KOjhOASN.js";import{a4 as y,a5 as w,b as j,a6 as k,J as N}from"./ui-vendor-Dz3Dph9r.js";import"./firebase-vendor-YXA9jPlQ.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-messaging.js";const C=async r=>new Promise(l=>{const c=document.createElement("canvas"),e=c.getContext("2d");if(!e){l("");return}const a=1280,o=720;c.width=a,c.height=o;const i=r.theme||"blue",s=e.createLinearGradient(0,0,a,o);switch(i){case"blue":s.addColorStop(0,"#1e3a8a"),s.addColorStop(1,"#2563eb");break;case"purple":s.addColorStop(0,"#581c87"),s.addColorStop(1,"#9333ea");break;case"sunset":s.addColorStop(0,"#9a3412"),s.addColorStop(1,"#ea580c");break;case"dark":s.addColorStop(0,"#0f172a"),s.addColorStop(1,"#334155");break;case"emerald":s.addColorStop(0,"#064e3b"),s.addColorStop(1,"#10b981");break;case"ocean":s.addColorStop(0,"#0c4a6e"),s.addColorStop(1,"#0ea5e9");break;default:s.addColorStop(0,"#1e3a8a"),s.addColorStop(1,"#3b82f6")}e.fillStyle=s,e.fillRect(0,0,a,o),e.fillStyle="rgba(255, 255, 255, 0.05)",e.beginPath(),e.arc(a,0,400,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(0,o,300,0,Math.PI*2),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.1)",e.beginPath(),e.moveTo(a/2-50,o/2-80),e.lineTo(a/2+80,o/2),e.lineTo(a/2-50,o/2+80),e.fill(),e.fillStyle="#ffffff",e.textAlign="center",e.font="bold 80px sans-serif",e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=20,e.shadowOffsetX=0,e.shadowOffsetY=10;const n=r.title.split(" ");let d="",m=o/2-20;const h=a-200,b=90;r.title.length>30&&(m-=40);for(let f=0;f<n.length;f++){const u=d+n[f]+" ";e.measureText(u).width>h&&f>0?(e.fillText(d,a/2,m),d=n[f]+" ",m+=b):d=u}e.fillText(d,a/2,m),e.shadowBlur=0,e.shadowOffsetY=0,e.font="bold 30px sans-serif",e.fillStyle="rgba(255, 255, 255, 0.8)",e.fillText(g.appName.toUpperCase(),a/2,o-60),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=4,e.beginPath(),e.moveTo(a/2-50,o-100),e.lineTo(a/2+50,o-100),e.stroke(),l(c.toDataURL("image/jpeg",.8))}),q=({onNotify:r})=>t.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-gray-50 dark:bg-[#121212] pb-20 relative",children:[t.jsx("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-6 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:t.jsx(y,{size:24,className:"text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h2",{className:"text-lg font-bold text-white",children:"Videos BÃ­blicos"}),t.jsxs("p",{className:"text-purple-100 text-sm",children:[x.length," videos disponibles"]})]})]}),t.jsxs("div",{className:"text-xs font-bold bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-lg uppercase tracking-wider flex items-center gap-1.5",children:[t.jsx(w,{size:12}),"Online"]})]})}),t.jsxs("div",{className:"p-4 space-y-6",children:[x.map(l=>t.jsx(S,{video:l},l.id)),x.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[t.jsx(j,{size:48,className:"mb-4 opacity-50"}),t.jsx("p",{children:"No hay videos disponibles."})]})]})]}),S=({video:r})=>{const l=p.useRef(null),[c,e]=p.useState("");p.useEffect(()=>{let i=!0;return(async()=>{try{if(r.thumbnail)i&&e(r.thumbnail);else{const n=await C(r);i&&e(n)}}catch(n){console.error("Error initializing video card",n)}})(),()=>{i=!1}},[]);const a=async()=>{if(l.current)try{l.current.requestFullscreen?await l.current.requestFullscreen():l.current.webkitRequestFullscreen?await l.current.webkitRequestFullscreen():l.current.msRequestFullscreen&&await l.current.msRequestFullscreen();const i=screen.orientation;if(i&&i.lock)try{await i.lock("landscape")}catch{}}catch{}},o=async()=>{try{document.fullscreenElement&&await document.exitFullscreen(),screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()}catch{}};return t.jsxs("article",{className:"bg-white dark:bg-[#1a1a1a] rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-800 transition-all",children:[t.jsx("div",{className:"relative w-full aspect-video bg-black group",children:t.jsxs("video",{ref:l,controls:!0,controlsList:"nodownload",onContextMenu:i=>i.preventDefault(),playsInline:!0,className:"w-full h-full object-contain",poster:c,preload:"none",onPlay:a,onEnded:o,children:[t.jsx("source",{src:r.url,type:"video/mp4"}),"Tu navegador no soporta video."]})}),t.jsxs("div",{className:"p-5",children:[t.jsx("div",{className:"flex justify-between items-start mb-2",children:t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white leading-tight flex-1 mr-2",children:r.title})}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-4 font-serif",children:r.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-gray-400 dark:text-gray-500 border-t border-gray-100 dark:border-gray-800 pt-3",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(k,{size:14})," ",r.date]}),r.duration&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(N,{size:14})," ",r.duration]})]})]})]})};export{q as default};
