import{h as C,c as $,j as e}from"./index-ClRsBRAg.js";import{r as v,R as z}from"./react-vendor-B6z1n1mp.js";import{i as B}from"./introductionManager-DzReGFhk.js";import{B as T,m as L,a2 as R,J as I}from"./ui-vendor-BWlM-Vc6.js";import"./firebase-vendor-adPvufnm.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-messaging.js";const D=({data:x,onSelect:m,currentBookId:M})=>{const[i,h]=v.useState(null),[d,u]=v.useState(""),{isChapterRead:g}=C(),{startBooksTour:y,startChaptersTour:w}=$();z.useEffect(()=>{i?w():y()},[i]);const p=l=>l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),b=l=>{if(!d.trim())return l;const r=p(d);return l.filter(c=>p(c.name).includes(r))};if(!i){const l=b(x.oldTestament),r=b(x.newTestament),c=x.oldTestament.length+x.newTestament.length;return e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-gray-50 dark:bg-[#121212]",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx(T,{size:24,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Libros de la Biblia"}),e.jsxs("p",{className:"text-purple-100 text-sm",children:[c," libros disponibles"]})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"nav-books-search",type:"text",placeholder:"Buscar libro...",value:d,onChange:t=>u(t.target.value),className:"w-full px-4 py-2.5 pl-10 rounded-lg bg-white/20 backdrop-blur-sm text-white placeholder-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all"}),e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d&&e.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[l.length>0&&e.jsxs("div",{id:"nav-books-ot",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-3 ml-2",children:["Antiguo Testamento ",d&&`(${l.length})`]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map((t,n)=>{const s=t.chapters.length,a=t.chapters.filter((j,k)=>g(t.id,k)).length,o=a===s&&s>0,f=s>0?a/s*100:0;return e.jsxs("button",{id:n===0?"nav-book-item-0":void 0,onClick:()=>h(t),className:`rounded-2xl p-4 text-white shadow-lg relative overflow-hidden cursor-pointer active:scale-95 transition-all group text-left ${o?"bg-gradient-to-br from-emerald-500 to-teal-600":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 rounded-full -mr-8 -mt-8 blur-2xl ${o?"bg-white/10":"bg-gray-200/50 dark:bg-gray-700/50"}`}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h4",{className:`text-sm font-bold mb-2 truncate ${o?"text-white":"text-gray-900 dark:text-white"}`,children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`text-xs font-medium ${o?"text-emerald-100":"text-gray-500 dark:text-gray-400"}`,children:[s," ",s===1?"capítulo":"capítulos"]}),e.jsxs("span",{className:`text-xs font-bold ${o?"text-white":"text-gray-700 dark:text-gray-300"}`,children:[a,"/",s]})]}),e.jsx("div",{className:`h-1.5 rounded-full overflow-hidden ${o?"bg-black/20":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${o?"bg-white":"bg-emerald-500"}`,style:{width:`${f}%`}})})]})]},t.id)})})]}),r.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-3 ml-2",children:["Nuevo Testamento ",d&&`(${r.length})`]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:r.map(t=>{const n=t.chapters.length,s=t.chapters.filter((f,j)=>g(t.id,j)).length,a=s===n&&n>0,o=n>0?s/n*100:0;return e.jsxs("button",{onClick:()=>h(t),className:`rounded-2xl p-4 text-white shadow-lg relative overflow-hidden cursor-pointer active:scale-95 transition-all group text-left ${a?"bg-gradient-to-br from-emerald-500 to-teal-600":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 rounded-full -mr-8 -mt-8 blur-2xl ${a?"bg-white/10":"bg-gray-200/50 dark:bg-gray-700/50"}`}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h4",{className:`text-sm font-bold mb-2 truncate ${a?"text-white":"text-gray-900 dark:text-white"}`,children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`text-xs font-medium ${a?"text-emerald-100":"text-gray-500 dark:text-gray-400"}`,children:[n," ",n===1?"capítulo":"capítulos"]}),e.jsxs("span",{className:`text-xs font-bold ${a?"text-white":"text-gray-700 dark:text-gray-300"}`,children:[s,"/",n]})]}),e.jsx("div",{className:`h-1.5 rounded-full overflow-hidden ${a?"bg-black/20":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${a?"bg-white":"bg-emerald-500"}`,style:{width:`${o}%`}})})]})]},t.id)})})]}),d&&l.length===0&&r.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No se encontraron libros con "',d,'"']})}),e.jsx("div",{className:"h-20"})]})]})}const N=B.hasIntroduction(i.id);return e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-paper-light dark:bg-paper-dark",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-paper-light/95 dark:bg-paper-dark/95 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>h(null),className:"p-2 -ml-2 rounded-full active:bg-gray-200 dark:active:bg-gray-800",children:e.jsx(L,{size:24})}),e.jsx("h2",{className:"text-lg font-bold ml-2",children:i.name})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-center text-gray-500 mb-6",children:"Selecciona un Capítulo"}),e.jsxs("div",{id:"nav-chapters-grid",className:"grid grid-cols-5 gap-3",children:[N&&e.jsxs("button",{onClick:()=>m(i.id,-1),className:"aspect-square flex flex-col items-center justify-center rounded-xl border text-sm font-bold shadow-sm transition-all relative overflow-hidden bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-blue-400",children:[e.jsx(R,{size:20,className:"mb-1"}),e.jsx("span",{className:"text-[10px] uppercase tracking-wide",children:"Intro"})]}),i.chapters.map((l,r)=>{const c=g(i.id,r);return e.jsxs("button",{onClick:()=>m(i.id,r),className:`aspect-square flex flex-col items-center justify-center rounded-xl border text-lg font-medium shadow-sm transition-all relative overflow-hidden ${c?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 active:bg-primary active:text-white"}`,children:[r+1,c&&e.jsx("div",{className:"absolute bottom-1 right-1",children:e.jsx(I,{size:10,strokeWidth:4})})]},r)})]}),e.jsx("div",{className:"h-20"})]})]})};export{D as default};
