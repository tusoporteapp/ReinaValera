import{j as e,P as c}from"./index-BIx7LW2s.js";import{r as n}from"./react-vendor-KOjhOASN.js";import{H as p,a4 as m,a5 as u,P as g,n as f,a6 as h,J as j}from"./ui-vendor-DU-pUmIo.js";import"./firebase-vendor-YXA9jPlQ.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/12.6.0/firebase-messaging.js";const C=({onNotify:a})=>{const[t,i]=n.useState(null),s=r=>{i(r)};return e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-gray-50 dark:bg-[#121212] pb-20 relative",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-indigo-900 to-purple-800 px-6 py-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx(p,{size:24,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Podcasts Bíblicos"}),e.jsxs("p",{className:"text-purple-100 text-sm",children:[c.length," episodios disponibles"]})]})]}),e.jsxs("div",{className:"text-xs font-bold bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-lg uppercase tracking-wider flex items-center gap-1.5",children:[e.jsx(m,{size:12}),"Online"]})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[c.map(r=>e.jsx(b,{podcast:r,isPlaying:t===r.id,onPlay:()=>s(r.id)},r.id)),c.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(u,{size:48,className:"mb-4 opacity-50"}),e.jsx("p",{children:"No hay podcasts disponibles aún."})]})]})]})},b=({podcast:a,isPlaying:t,onPlay:i})=>{const s=n.useRef(null),[r,l]=n.useState(!1);n.useEffect(()=>{!t&&s.current&&(s.current.pause(),l(!1))},[t]);const o=()=>{if(s.current)if(s.current.paused){const d=s.current.play();d!==void 0&&d.then(()=>{i(),l(!0)}).catch(x=>{console.error("Error visual playback:",x)})}else s.current.pause(),l(!1)};return e.jsx("article",{className:`bg-white dark:bg-[#1a1a1a] rounded-2xl overflow-hidden shadow-sm border transition-all ${t?"border-purple-500 ring-1 ring-purple-500/20":"border-gray-100 dark:border-gray-800"}`,children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsx("button",{onClick:o,className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center transition-all ${r?"bg-purple-600 text-white shadow-lg shadow-purple-500/30":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-purple-100 dark:hover:bg-purple-900/20"}`,children:r?e.jsx(g,{size:20,fill:"currentColor"}):e.jsx(f,{size:20,fill:"currentColor",className:"ml-1"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`text-lg font-bold leading-tight mb-1 ${t?"text-purple-600 dark:text-purple-400":"text-gray-900 dark:text-white"}`,children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 font-serif mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-gray-400 dark:text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(h,{size:12})," ",a.date]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{size:12})," ",a.duration]})]})]})]}),e.jsx("div",{className:"mt-4 bg-gray-50 dark:bg-black/20 rounded-lg p-2",children:e.jsxs("audio",{ref:s,controls:!0,className:"w-full h-8",onPlay:()=>{i(),l(!0)},onPause:()=>l(!1),onEnded:()=>l(!1),preload:"none",children:[e.jsx("source",{src:a.url,type:"audio/mpeg"}),"Tu navegador no soporta este audio."]})})]})})};export{C as default};
